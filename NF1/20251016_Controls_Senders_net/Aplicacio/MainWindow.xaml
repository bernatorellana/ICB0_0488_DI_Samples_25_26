<Window x:Class="Aplicacio.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Aplicacio"
        mc:Ignorable="d"
        Loaded="Window_Loaded"
        x:Name="mainWindow"
        Title="MainWindow" Height="450" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
        </Grid.ColumnDefinitions>

        <!-- Àrea de filtres -->

        <GroupBox
            Background="#f0f0f0"
            Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Header="FILTRE" Margin="5" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"></ColumnDefinition>
                    <ColumnDefinition Width="150"></ColumnDefinition>
                    <ColumnDefinition Width="auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"></RowDefinition>
                    <RowDefinition Height="auto"></RowDefinition>
                </Grid.RowDefinitions>

                <TextBlock VerticalAlignment="Center" Text="Busca per Id:" Grid.Column="0" Grid.Row="0"></TextBlock>
                <TextBlock VerticalAlignment="Center" Text="Busca per Raó social:" Grid.Column="0" Grid.Row="1"></TextBlock>

                <TextBox x:Name="txtCercaId"  Style="{StaticResource CellStyle}"  Grid.Column="1" Grid.Row="0"></TextBox>
                <TextBox x:Name="txtCercaRaoSocial"  Style="{StaticResource CellStyle}"  Grid.Column="1" Grid.Row="1"></TextBox>

                <Button Grid.Column="2" x:Name="btnFilter" Click="btnFilter_Click" Style="{StaticResource CellStyle}"  Grid.Row="0" FontFamily="Segoe MDL2 Assets" >&#xE71C;</Button>
                <Button Grid.Column="2" x:Name="btnClearFilter"  Style="{StaticResource CellStyle}"  Grid.Row="1"  FontFamily="Segoe MDL2 Assets" >&#xE711;</Button>

            </Grid>



        </GroupBox>
        <!-- Graella de clients -->
        <DataGrid x:Name="dtgClients" Grid.Column="0" Grid.Row="1" AutoGenerateColumns="False" SelectionChanged="dtgClients_SelectionChanged">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}"></DataGridTextColumn>
                <DataGridTextColumn Header="Raó Social" Binding="{Binding RaoSocial}"></DataGridTextColumn>
                <DataGridTemplateColumn Header="Provincia"  >
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Label Content="{Binding Provincia.Id}"></Label>
                                <Label  Content="{Binding Provincia.Nom}"></Label>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

                <DataGridTemplateColumn Header="Foto"  >
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <!--Label Content="{Binding Foto}"></Label-->
                            <Image  Source="{Binding Foto}"></Image>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

            </DataGrid.Columns>
        </DataGrid>

        <!-- Formulari de client -->
        <Grid Grid.Column="1"  Grid.Row="1" >

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Labels -->
            <Label Style="{StaticResource HeaderCellStyle}" Grid.Column="0" Grid.Row="0">
                * Id:</Label>
            <Label Style="{StaticResource HeaderCellStyle}"  Grid.Column="0" Grid.Row="1">* CIF:</Label>
            <Label Style="{StaticResource HeaderCellStyle}"  Grid.Column="0" Grid.Row="2">* Raó Social:</Label>
            <Label Style="{StaticResource HeaderCellStyle}"  Grid.Column="0" Grid.Row="3">* Activa:</Label>
            <Label Style="{StaticResource HeaderCellStyle}"  Grid.Column="0" Grid.Row="4">* Tipus:</Label>
            <Label Style="{StaticResource HeaderCellStyle}"  Grid.Column="0" Grid.Row="5">* Província:</Label>
            <Label Style="{StaticResource HeaderCellStyle}"  Grid.Column="0" Grid.Row="6">Opcions:</Label>

            <!-- Controls del formulari -->
            <TextBox IsEnabled="false" Style="{StaticResource CellStyle}"  Grid.Column="1" Grid.Row="0" x:Name="txtId"></TextBox>
            <TextBox  LostFocus="txtCIF_LostFocus" Style="{StaticResource CellStyle}"  Grid.Column="1" Grid.Row="1" x:Name="txtCIF"></TextBox>
            <TextBox LostFocus="txtRaoSocial_LostFocus" Style="{StaticResource CellStyle}"  Grid.Column="1" Grid.Row="2" x:Name="txtRaoSocial"></TextBox>
            <CheckBox  Style="{StaticResource CellStyle}" VerticalAlignment="Center" Grid.Column="1"
                       Grid.Row="3" x:Name="chkActiva">Empresa activa</CheckBox>
            <StackPanel  x:Name="stpRadios" Margin="10" Grid.Column="1" Grid.Row="4" Orientation="Vertical">
                <!--RadioButton x:Name="rdoPrivada">PRIVADA</RadioButton>
                <RadioButton x:Name="rdoPublica">PÚBLICA</RadioButton>
                <RadioButton x:Name="rdoAutonom">AUTÒNOM</RadioButton-->
            </StackPanel>
            <ComboBox  Style="{StaticResource CellStyle}"  Grid.Column="1" Grid.Row="5" 
                       x:Name="cboProvincia">

            </ComboBox>

            <Grid Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="7" Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"></ColumnDefinition>
                    <ColumnDefinition Width="auto"></ColumnDefinition>
                    <ColumnDefinition Width="auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0"  x:Name="btnNew" Click="btnNew_Click" Padding="30,10,30,10" VerticalAlignment="Center" HorizontalAlignment="Center" FontFamily="Segoe MDL2 Assets" FontSize="20" >&#xECC8;</Button>
                <Button Grid.Column="1"  x:Name="btnDelete" Click="btnDelete_Click" Padding="30,10,30,10" VerticalAlignment="Center" HorizontalAlignment="Center" FontFamily="Segoe MDL2 Assets"  FontSize="20">&#xECC9;</Button>
                <Button Grid.Column="2"  x:Name="btnSave" Click="btnSave_Click" Padding="30,10,30,10" VerticalAlignment="Center" HorizontalAlignment="Center" FontFamily="Segoe MDL2 Assets"  FontSize="20">&#xE74E;</Button>
            </Grid>

            <!-- Missatges d'error -->
            <TextBlock x:Name="lblErrorCIF"        TextWrapping="Wrap"  Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="red"></TextBlock>
            <TextBlock x:Name="lblErrorRao"        TextWrapping="Wrap" Grid.Column="2" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="red"></TextBlock>
            <TextBlock x:Name="lblErrorActiva"     TextWrapping="Wrap" Grid.Column="2" Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="red"></TextBlock>
            <TextBlock x:Name="lblErrorTipus"      TextWrapping="Wrap" Grid.Column="2" Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="red"></TextBlock>
            <TextBlock x:Name="lblErrorProvincia"  TextWrapping="Wrap" Grid.Column="2" Grid.Row="5" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="red"></TextBlock>


        </Grid>

        <StackPanel Grid.Row="2" Orientation="Horizontal">
            <Button x:Name="btnBack" Click="btnBack_Click" Margin="10">BACK</Button>
            <TextBox x:Name="txtPagina" Text="{Binding ElementName=mainWindow, Path=Pagina}"
                     VerticalAlignment="Center"
                     ></TextBox>
            <Button x:Name="btnNext" Click="btnNext_Click" Margin="10">NEXT</Button>
        </StackPanel>
        
    </Grid>
</Window>
